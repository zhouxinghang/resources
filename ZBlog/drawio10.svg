<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="464" height="504" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36&quot; version=&quot;7.9.5&quot; editor=&quot;www.draw.io&quot;&gt;&lt;diagram id=&quot;e13d15bc-16c7-3019-f7be-ff6cc04af3b9&quot; name=&quot;第 1 页&quot;&gt;5Vvbcqs2FP0aPbYDCIR4hNg+fWg77ZzOtOcRg4zpwZZHlpO4X19JSOYicjkJOGNiz2TkrQuw9tZibUkB8G73+IWlh+1vNCcV8Jz8EcAF8DzsQ/FXGs61IXC82lCwMq9NbmP4Wv5HtNHR1lOZk2OnIae04uWha8zofk8y3rGljNGHbrMNrbpXPaQFsQxfs7SyrX+XOd/qx/LCxv4LKYutubKLorpmnWbfC0ZPe3094MGN+tTVu9SMpR/0uE1z+tAywSWAd4xSXpd2j3ekktAa2Op+qydqL/fNyJ6/qoO5D342z05yAYX+SRnf0oLu02rZWBP1fESO4IhfW76rRNEVxX8J52ftzfTEqTA1I/xK6UG3s+9S3/iRnlim70NHjLydVhv9GF8I3RHOzqIBI1XKy/uu51IdAMWl3aXrH7QUV/UcHavQ9esuOlRd5HWH4CkrCNe9GihFoXUbjUkBPAy2Hvg+rU7E3B4HSwSiOxDHYBmAyAXJAix9kGAQL2zXVJWYAdIFD9uSk6+HVIH1IOZg1xFpVRZ7Uc4EwIQJw6asqjtaUaYGgnlAcO4L+5Ez+p20arC3hgiJmoKleSm6t+qiMHfC8Dn/3RPGyeOz7tK1ntODHeq59dDMt1AH57Y11QLnaQd3XPOMH3zLDxbSYl4eZPHAaEaOxzcgfqyngfMz9ALbAYIRvCwbckCO1ihA44Ds90H2HQtk1xlA2Q/ej3IwgDKqxAWSgygUspBmEtw/T0S00HVi1Eu15RXx2LwLOyMC53StGkgyOshpqm46SECwkNcQPKR90fZTRTZyKIllKXg/1mYuOSo5CjeX++IvRVg/+RM5w7GdEQ35YoSId+GYNC8wYOd/tF39+KYiPRj7FYD0q18xsOaEsd8Kr4UQDZP35+JspxPBHrYjeCrODj8rZ3vYvR5nYwtlRiQ61VmT9LwIOeoijWykhwjZG4OQXQvLWyDkyCZk/6MIObIZYRmByAfYxraL3DuJeLMh6AkeCKO144wTndANunLB963o9CM7Oo2Ofld02pnKcm/GmM38h6ivjj0b4anmv52DzBFhrxvDHg6uhzAek2FHZVEzs6df2ujqNYh7EmG8pQ3XzvYOJ257YL5iGKLriWHvNtWDO5DPudFH6QfXzuhmJiDcXoDaK2yTCYgBcfY50jWIoIXyZOmaeU+2YK6X1OYlIyyMfTuSg4lkhAncmQs11BVq8g16LaFmNOKNvcw8aL/MPi4ZNnfTW56ctf7qkoIfvFJ/jfB6M6uRtxay/kDIog8L2Wg+IOIPA3FgL1NuKGMQr9TmhANiBJYYJCuAQ73XHImqFUhUwRK6W7pbn96ixn5cfg0wxGaTR2gkadZfQfMDe/UBTaXM7OSCEX5i++koeRPI7xDgSH2GAV+r70g6ze1TMrZ1WjAA+AgqAo56kKVhE0UgFz4Z/5ALvgYlq64xY+m51UDL0Wbk3uqRb5ZDzRkunSw2DqlHfPNpGHuzqaJpbjPSDabePTkdQFubTJV6Q9eC9ZuF6W0nK7C78haY7YoWut5EyQq008HfZ4Yu7pN4dD107SxGKxWM1dqcKDhSzQhNg1115mIFooWyrJQlBEksjaIQY4ATqYHiJcCRLOBAGvWAtvq8abcFZr/DbLVEtthxp0rh4ZAKNUupjZeE02IQ+/MC/rLgZ9goHBA9U+E+dMauB65ZZt1U5DGWR6OVnsl1cZFV6fFYZl34bSkvTzA/A9eLUuUFMIztnRtelzWA/okOM0QtvawNrxcHcqOet8bbOYND2xCCupYgCRVpibmDWrMpBFEMBEcPUB2SrJZEsrHI9URHYUmQ4k6RAPqySp+yzMv7yyFL2UiMpahSzk9HFUQHZ/h4ZrvvrGayj3rR49qqbZBC4Y9PZfGzOeRfR03zjxRw+T8=&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-d5e8d4-1-97d077-1-s-0"><stop offset="0%" style="stop-color:#d5e8d4"/><stop offset="100%" style="stop-color:#97d077"/></linearGradient><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-fff2cc-1-ffd966-1-s-0"><stop offset="0%" style="stop-color:#fff2cc"/><stop offset="100%" style="stop-color:#ffd966"/></linearGradient><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-f5f5f5-1-b3b3b3-1-s-0"><stop offset="0%" style="stop-color:#f5f5f5"/><stop offset="100%" style="stop-color:#b3b3b3"/></linearGradient></defs><g transform="translate(3,3)"><path d="M 74 62 L 107.63 62" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 112.88 62 L 105.88 65.5 L 107.63 62 L 105.88 58.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="39" cy="62" rx="35" ry="25" fill="url(#mx-gradient-d5e8d4-1-97d077-1-s-0)" stroke="#82b366" pointer-events="none"/><g transform="translate(12.5,55.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="52" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 54px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">get未命中</div></div></foreignObject></g><rect x="204" y="40" width="100" height="45" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><path d="M 237 40 L 237 85 M 271 40 L 271 85" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(205.5,2.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="73" height="36"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><p>accessQueue</p></div></div></foreignObject></g><path d="M 70 205 L 137 205 L 137 204 L 197.63 204" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 202.88 204 L 195.88 207.5 L 197.63 204 L 195.88 200.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="35" cy="205" rx="35" ry="25" fill="url(#mx-gradient-d5e8d4-1-97d077-1-s-0)" stroke="#82b366" pointer-events="none"/><g transform="translate(14.5,198.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="40" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 42px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">get命中</div></div></foreignObject></g><rect x="204" y="181" width="100" height="45" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><path d="M 237 181 L 237 226 M 271 181 L 271 226" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(210.5,163.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="78" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">recentlyQueue</div></div></foreignObject></g><path d="M 164 63 L 184 63 L 197.63 63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 202.88 63 L 195.88 66.5 L 197.63 63 L 195.88 59.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="115" y="44" width="49" height="37" fill="#ffe6cc" stroke="#d79b00" pointer-events="none"/><g transform="translate(133.5,56.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="12" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 13px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">锁</div></div></foreignObject></g><g transform="translate(165.5,44.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="28" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Entry</div></div></foreignObject></g><g transform="translate(126.5,187.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="28" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Entry</div></div></foreignObject></g><path d="M 70 285 L 103.63 285" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 108.88 285 L 101.88 288.5 L 103.63 285 L 101.88 281.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="35" cy="285" rx="35" ry="25" fill="url(#mx-gradient-d5e8d4-1-97d077-1-s-0)" stroke="#82b366" pointer-events="none"/><g transform="translate(26.5,278.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="16" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 18px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">put</div></div></foreignObject></g><path d="M 160 286 L 182 286 L 197.63 286" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 202.88 286 L 195.88 289.5 L 197.63 286 L 195.88 282.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="111" y="267" width="49" height="37" fill="#ffe6cc" stroke="#d79b00" pointer-events="none"/><g transform="translate(129.5,279.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="12" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 13px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">锁</div></div></foreignObject></g><rect x="204" y="263" width="100" height="45" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><path d="M 237 263 L 237 308 M 271 263 L 271 308" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(205.5,249.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="37" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">access</div></div></foreignObject></g><g transform="translate(166.5,268.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="28" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Entry</div></div></foreignObject></g><path d="M 73.99 379 L 95 379 L 95 378 L 108.63 378" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 113.88 378 L 106.88 381.5 L 108.63 378 L 106.88 374.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="39" cy="379" rx="35" ry="28.5" fill="url(#mx-gradient-d5e8d4-1-97d077-1-s-0)" stroke="#82b366" pointer-events="none"/><g transform="translate(30.5,372.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="16" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 18px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">get</div></div></foreignObject></g><path d="M 174.33 378 L 195 378 L 207.63 378" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 212.88 378 L 205.88 381.5 L 207.63 378 L 205.88 374.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 145 400 L 145 449 L 158.63 449" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 163.88 449 L 156.88 452.5 L 158.63 449 L 156.88 445.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 145 355 L 175 377.5 L 145 400 L 115 377.5 Z" fill="url(#mx-gradient-fff2cc-1-ffd966-1-s-0)" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(116.5,364.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="56" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 56px; white-space: normal; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">是否过期？</div></div></foreignObject></g><ellipse cx="242" cy="378" rx="27.5" ry="20" fill="url(#mx-gradient-f5f5f5-1-b3b3b3-1-s-0)" stroke="#666666" pointer-events="none"/><g transform="translate(225.5,371.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="31" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 33px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">return</div></div></foreignObject></g><path d="M 214 449 L 242 449 L 242 404.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 242 399.12 L 245.5 406.12 L 242 404.37 L 238.5 406.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="165" y="430" width="49" height="37" fill="#ffe6cc" stroke="#d79b00" pointer-events="none"/><g transform="translate(177.5,442.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="23" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 23px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">load</div></div></foreignObject></g><g transform="translate(131.5,414.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="8" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Y</div></div></foreignObject></g><g transform="translate(185.5,361.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="9" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">N</div></div></foreignObject></g><g transform="translate(319.5,197.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="120" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">（需要保证线程安全）</div></div></foreignObject></g><g transform="translate(164.5,480.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="36" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">锁保护</div></div></foreignObject></g><path d="M 255 160.5 L 245 160.5 L 245 109.5 L 234.5 109.5 L 250 90.5 L 265.5 109.5 L 255 109.5 Z" fill="#ffffff" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(261.5,112.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="120" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">获取锁的线程批量消费<div>添加到accessQueue</div></div></div></foreignObject></g></g></svg>