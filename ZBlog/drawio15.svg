<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="293" height="656" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36&quot; version=&quot;7.9.5&quot; editor=&quot;www.draw.io&quot;&gt;&lt;diagram id=&quot;b1a9d014-f326-62fb-3010-58b2505ea688&quot; name=&quot;第 1 页&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-ffcd28-1-ffa500-1-s-0"><stop offset="0%" style="stop-color:#ffcd28"/><stop offset="100%" style="stop-color:#ffa500"/></linearGradient><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-f5f5f5-1-b3b3b3-1-s-0"><stop offset="0%" style="stop-color:#f5f5f5"/><stop offset="100%" style="stop-color:#b3b3b3"/></linearGradient></defs><g transform="translate(3,3)"><ellipse cx="60" cy="150" rx="50" ry="50" fill="url(#mx-gradient-ffcd28-1-ffa500-1-s-0)" stroke="#d79b00" pointer-events="none"/><ellipse cx="60" cy="150" rx="25" ry="25" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 60 175 L 60 200" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 60 100 L 60 125" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 110 150 L 85 150" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 35 150 L 10 150" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="0" y="240" width="120" height="60" fill="url(#mx-gradient-ffcd28-1-ffa500-1-s-0)" stroke="#d79b00" pointer-events="none"/><path d="M 30 300 L 30 240" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 60 300 L 60 240" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 90 300 L 90 240" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(38.5,209.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="61" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">ReadBuffer</div></div></foreignObject></g><g transform="translate(41.5,312.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="60" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">WriteBuffer</div></div></foreignObject></g><path d="M 217 50 L 217 70 L 217 65 L 217 78.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 217 83.88 L 213.5 76.88 L 217 78.63 L 220.5 76.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="217" cy="25" rx="37" ry="25" fill="#cdeb8b" stroke="#36393d" pointer-events="none"/><g transform="translate(192.5,18.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="48" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 49px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">异步线程</div></div></foreignObject></g><path d="M 217 115 L 217 214 L 218 214 L 218 306.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 218 311.88 L 214.5 304.88 L 218 306.63 L 221.5 304.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="187" y="85" width="60" height="30" fill="#ffcc99" stroke="#36393d" pointer-events="none"/><g transform="translate(198.5,93.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="36" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 37px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">获取锁</div></div></foreignObject></g><path d="M 218 348 L 218 368 L 218 363.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 218 368.88 L 214.5 361.88 L 218 363.63 L 221.5 361.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="171" y="313" width="93" height="35" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(172.5,317.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="89" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 89px; white-space: normal; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">数据添加到 accessQueue</div></div></foreignObject></g><path d="M 218 405 L 218 425 L 218 423.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 218 428.88 L 214.5 421.88 L 218 423.63 L 221.5 421.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="171" y="370" width="93" height="35" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(170.5,374.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="94" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 94px; white-space: normal; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">访问频率记录到FrequencySketch</div></div></foreignObject></g><path d="M 218 465 L 218 485 L 218 483.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 218 488.88 L 214.5 481.88 L 218 483.63 L 221.5 481.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="171" y="430" width="93" height="35" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(172.5,434.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="89" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 89px; white-space: normal; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">数据添加到 writeQueue</div></div></foreignObject></g><path d="M 218 560 L 218 580 L 218 593.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 218 598.88 L 214.5 591.88 L 218 593.63 L 221.5 591.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="148" y="490" width="139" height="70" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(149.5,497.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="135" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 135px; white-space: normal; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">通过accessQueue、writeQueue和<span>FrequencySketch 来执行过期淘汰</span></div></div></foreignObject></g><path d="M 120.5 165 L 120.5 155 L 160 155 L 180.5 155 L 180.5 144.5 L 199.5 160 L 180.5 175.5 L 180.5 165 L 160 165 Q 160 165 160 165 Z" fill="#ffffff" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="none"/><path d="M 180.5 155 L 180.5 144.5 L 199.5 160 L 180.5 175.5 L 180.5 165" fill="none" stroke="#000000" stroke-linejoin="flat" stroke-miterlimit="4" pointer-events="none"/><path d="M 130.5 275 L 130.5 265 L 180.5 265 L 180.5 254.5 L 199.5 270 L 180.5 285.5 L 180.5 275 Z" fill="#ffffff" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(130.5,135.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="24" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">消费</div></div></foreignObject></g><g transform="translate(132.5,245.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="24" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">消费</div></div></foreignObject></g><ellipse cx="218" cy="625" rx="38.5" ry="25" fill="url(#mx-gradient-f5f5f5-1-b3b3b3-1-s-0)" stroke="#666666" pointer-events="none"/><g transform="translate(205.5,618.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="24" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 25px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">退出</div></div></foreignObject></g></g></svg>